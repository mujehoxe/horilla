{% load static i18n %}
{% if perms.asset.change_asset %}
    <button class="oh-btn oh-btn--light-bkg w-100" data-toggle="oh-modal-toggle" data-target="#genericModal"
        hx-get="{{ instance.get_update_url }}?{% if asset_under == 'asset_filter' %}asset_under=asset_filter&{% endif %}{{ pg }}"
        hx-target="#genericModalBody" title="{% trans 'Edit' %}">
        <ion-icon name="create-outline" role="img" class="md hydrated" aria-label="create outline"></ion-icon>
    </button>
{% endif %}
{% if perms.asset.add_asset %}
    <button class="oh-btn oh-btn--light-bkg w-100" data-toggle="oh-modal-toggle" data-target="#genericModal"
        hx-get="{% url 'duplicate-asset' instance.id %}?{{pg}}" hx-target="#genericModalBody"
        title="{% trans 'Duplicate' %}">
        <ion-icon name="copy-outline"></ion-icon>
    </button>
{% endif %}
{% if asset.assetassignment_set.all %}
    <button class="oh-btn oh-btn--light-bkg w-100" data-toggle="oh-modal-toggle" data-target="#dynamicCreateModal"
        hx-get="{% url 'add-asset-report' asset.id %}?asset_list=true" hx-target="#dynamicCreateModalTarget"
        id="oh-btn-asset-update-modal" title="{% trans 'Report' %}">
        <ion-icon name="document-attach-outline"></ion-icon>
    </button>
{% else %}
    <button disabled class="oh-btn oh-btn--light-bkg w-100" id="oh-btn-asset-update-modal" title="{% trans 'Report' %}">
        <ion-icon name="document-attach-outline"></ion-icon>
    </button>
{% endif %}
{% if perms.asset.delete_asset %}
    <form hx-confirm="{% trans 'Do you want to delete this asset?' %}"
        hx-post="{{instance.get_delete_url}}?{% if asset_under == 'asset_filter' %}asset_under=asset_filter&{% endif %}{{ request.GET.urlencode }}"
        hx-target="#assetCategory{{ instance.asset_category_id.id }}" onclick="event.stopPropagation()" style="width:100%">
        {% csrf_token %}
        <button class="oh-btn oh-btn--danger-outline oh-btn--light-bkg w-100" title="{% trans 'Delete' %}">
            <ion-icon name="trash-outline" role="img" class="md hydrated" aria-label="trash outline"></ion-icon>
        </button>
    </form>
{% endif %}