{% load i18n %} {% load current_month_record %}
<table>
    <thead>
        <tr>
            <th>{% trans "Work Records" %}</th>
            {% for day in current_month_dates_list %}
            <th>{{ day.day }}</th>
            {% endfor %}
        </tr>
    </thead>
    {% for employee_data in data %}
    <tr>
        <td>{{ employee_data.employee }}</td>

        {% for date in current_month_dates_list %} 
            {% with work_record=employee_data.work_record|get_item:forloop.counter0 %}

            <td
                {% if work_record %}
                    style="text-align:center; cursor:default; background-color:{{ work_record.color }};"
                {% endif %}
            >
                {% if work_record %}
                <div title="{{work_record.message}}">
                    {% if work_record.work_record_type == 'CONF' %}!
                    {% elif work_record.work_record_type == 'FDP' %} P
                    {% elif work_record.work_record_type == 'HDP' %} HP
                    {% elif work_record.work_record_type == 'ABS' %} A
                    {% endif %}
                </div>
                {% endif %}
            </td>

            {% endwith %}
        {% endfor %}
    </tr>
    {% endfor %}
</table>

<div class="oh-pagination">
    <span class="oh-pagination__page">
        {% trans "Page" %} {{ data.number }} {% trans "of" %} 
        {{ data.paginator.num_pages }}.
    </span>
    <nav class="oh-pagination__nav">
        <div class="oh-pagination__input-container me-3">
            <span class="oh-pagination__label me-1">{% trans "Page" %}</span>
            <input
                type="number"
                name="page"
                class="oh-pagination__input"
                value="{{data.number}}"
                hx-get="{% url 'work-records-change-month' %}?{{pd}}"
                hx-target="#workRecordTable"
                min="1"
            />
            <span class="oh-pagination__label"
                >{% trans "of" %} {{data.paginator.num_pages}}</span
            >
        </div>
        <ul class="oh-pagination__items">
            {% if data.has_previous %}
            <li class="oh-pagination__item oh-pagination__item--wide">
                <a
                    hx-target="#workRecordTable"
                    hx-get="{% url 'work-records-change-month' %}?{{pd}}&page=1"
                    class="oh-pagination__link"
                    >{% trans "First" %}</a
                >
            </li>
            <li class="oh-pagination__item oh-pagination__item--wide">
                <a
                    hx-target="#workRecordTable"
                    hx-get="{% url 'work-records-change-month' %}?{{pd}}&page={{ data.previous_page_number }}"
                    class="oh-pagination__link"
                    >{% trans "Previous" %}</a
                >
            </li>
            {% endif %} {% if data.has_next %}
            <li class="oh-pagination__item oh-pagination__item--wide">
                <a
                    hx-target="#workRecordTable"
                    hx-get="{% url 'work-records-change-month' %}?{{pd}}&page={{ data.next_page_number }}"
                    class="oh-pagination__link"
                    >{% trans "Next" %}</a
                >
            </li>
            <li class="oh-pagination__item oh-pagination__item--wide">
                <a
                    hx-target="#workRecordTable"
                    hx-get="{% url 'work-records-change-month' %}?{{pd}}&page={{ data.paginator.num_pages }}"
                    class="oh-pagination__link"
                    >{% trans "Last" %}</a
                >
            </li>
            {% endif %}
        </ul>
    </nav>
</div>
